document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('message-form');
  const input = document.getElementById('message-input');
  const diary = document.getElementById('diary');

  form.addEventListener('submit', (e) => {
    e.preventDefault();

    const userMessage = input.value.trim();
    if (!userMessage) return;

    appendMessage('Tu', userMessage);
    input.value = '';

    // Risposta fissa per ora
    setTimeout(() => {
      const reply = getIlanoxReply(userMessage);
      appendMessage('Ilanox', reply);
    }, 500);
  });

  function appendMessage(sender, text) {
    const message = document.createElement('p');
    message.innerHTML = <strong>${sender}:</strong> ${text};
    diary.appendChild(message);
    diary.scrollTop = diary.scrollHeight;
  }

  function getIlanoxReply(userMessage) {
    return "Ci sono. Cosa senti dentro?";
  }
});
